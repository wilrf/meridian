---
title: "Virtual Environments"
phase: 3
order: 2
requires: []
prev: "3.1_modules_and_imports"
next: "3.3_files"
---

# Lesson 2: Virtual Environments

> **Note:** In this web platform, the environment is managed for you. The following lesson explains how you would manage environments on your own computer.

## The Problem

You're working on two projects:
1.  **Project A** (an old project) uses `pandas` version 1.0.
2.  **Project B** (a new project) uses `pandas` version 2.0.

You can't install both versions on your computer at the same time. If you upgrade `pandas` for Project B, you break Project A. This is called "Dependency Hell."

---

## The Metaphor

Think of your computer like a **restaurant kitchen**.

- **Global installation** is like having one giant pantry for all chefs. If Chef A needs "Spicy Sauce v1" and Chef B throws it out to replace it with "Spicy Sauce v2", Chef A's dish is ruined.
- **Virtual Environments** are like giving each chef their own **private pantry**. Chef A has their sauce, Chef B has theirs. They never fight over ingredients.

In Python, you should **always** use a virtual environment for every project.

---

## The Technical Reality

A virtual environment (`venv`) is just a folder in your project directory (usually named `.venv` or `venv`). It contains:
1.  A copy of the Python interpreter (links to the system Python).
2.  A `lib` folder where packages are installed.
3.  A `bin` (or `Scripts` on Windows) folder with activation scripts.

When you "activate" the environment, you tell your shell: "When I type `python`, use the one in this folder, not the system one."

---

## The Code (Terminal)

This lesson happens mostly in your terminal, not in Python code.

### 1. Creating a venv

Navigate to your project folder and run:

```bash
# Mac/Linux
python3 -m venv venv

# Windows
python -m venv venv
```

This creates a folder named `venv`.

### 2. Activating the venv

You must activate it to use it.

```bash
# Mac/Linux
source venv/bin/activate

# Windows (Command Prompt)
venv\Scripts\activate

# Windows (PowerShell)
venv\Scripts\Activate.ps1
```

Once activated, your terminal prompt will usually show `(venv)`.

### 3. Installing Packages (pip)

`pip` is the **P**ackage **I**nstaller for **P**ython.

```bash
# Install a package
pip install requests

# Install specific version
pip install pandas==1.5.3

# List installed packages
pip list
```

### 4. Saving Dependencies (requirements.txt)

You need to tell others (or your future self) which packages to install.

```bash
# Save current packages to file
pip freeze > requirements.txt
```

The `requirements.txt` file looks like this:
```text
requests==2.31.0
pandas==1.5.3
numpy==1.24.3
```

### 5. Installing from requirements.txt

When you clone a project, you install everything at once:

```bash
pip install -r requirements.txt
```

---

## The Exercise

### Exercise 3.2: Setup a Project

Since we can't run terminal commands in this browser window, here is a simulation.

1.  Imagine you are starting a new project called "StockBot".
2.  You need the `requests` library.

Write the sequence of terminal commands you would run to:
1.  Create the environment.
2.  Activate it.
3.  Install `requests`.
4.  Freeze the requirements.

~~~python exercise id="3.2"
# Write the bash commands as comments below
# 1. Create: ...
# 2. Activate: ...
# 3. Install: ...
# 4. Freeze: ...
~~~

---

## The Gotchas

### Gotcha 1: Forgetting to Activate
If you run `pip install` without activating, you install libraries globally (or get a permission error).
*Check*: Type `which python` (Mac/Linux) or `where python` (Windows). It should point to your `venv` folder.

### Gotcha 2: Committing the venv
**NEVER** commit the `venv` folder to Git. It's huge and specific to your machine.
*Fix*: Add `venv/` to your `.gitignore` file. Only commit `requirements.txt`.

### Gotcha 3: Global vs Local
If you type `python` and it says "Module not found", but you *know* you installed it, you probably installed it in the venv but forgot to activate it (or vice versa).

---

## Key Takeaways

1.  **Always** create a `venv` for new projects.
2.  **Activate** it before working.
3.  Use `pip install` to get libraries.
4.  Use `pip freeze > requirements.txt` to save your dependency list.
5.  Never commit the `venv` folder.

---

## Next Lesson

Now that your environment is set up and your code is organized, let's learn how to interact with the outside world: **Working with Files**.
